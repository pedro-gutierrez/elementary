kind: module
name: file
spec:
  decoders:
    http:
      get:
        method: GET
        params:
          id:
            any: text
    asset:
      data:
        status: ok
        data:
          any: data
      not_found:
        reason: not_found
  update:
    get:
      model:
        file: @data.params.id
      cmds:
        file: named
    data:
      model:
        data: @data.data
      cmds:
        return: asset
    not_found:
      cmds:
        return: not_found
  encoders:
    named:
      named: @file
    asset:
      status: 200
      body: @data
