kind: test
name: transactions
spec:
  steps:
    - title: Given a transaction
      steps:
        - Given a new transaction details
        - When I create that transaction
        - Then I should have a 201
    - title: Given a new transaction details
      transaction:
        id:
          uuid: {}
        offer: @offer.id
        demand: @demand.id
    - title: When I create that transaction
      http:
        method: post
        url:
          - @baseUrl
          - /api/transactions
        headers:
          client-id: mobile
          client-secret: @clients.mobile
          authorization: @token
          content-type: application/json
        body: @transaction
      as: latest
