kind: module
name: ui_fullpass_next_events
spec:
  init:
    model:
      fpNextEvents: []
      fpReady:
        - http: fpNextEvents
      onFpEventImported: 
        - http: fpNextEvents
  decoders:
    http:
      fpNextEvents:
        tag: fpNextEvents
        status: 200
        body:
          any: list
  update:
    fpNextEvents:
      model:
        fpNextEvents: "@data.body"
      cmds:
        ui: {}
  encoders:
    fpNextEvents:
      method: get
      path: /api/fullpass/next/events
      headers:
        content-type: application/json
        authorization: "@session"
      tag: fpNextEvents
    fpNextEventsView:
      tag: div
      children:
        - view: itemsView
          params:
            title: "@title"
            items: "@fpNextEvents"
            itemView: fpEventItemView 
    fpEventItemView:
      view: blogItemView
      params:
        image: 
          url: "@cover"
        title: "@title"
        subtitle: "@location"
        date: "@starts"





