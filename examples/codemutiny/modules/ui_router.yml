kind: module
name: ui_router
spec:
  decoders:
    ui:
      navigate:
        navigate:
          any: text
    router:
      home-page:
        path: "/"
        query:
          without:
            - session
      welcome-page:
        path: "/"
        query:
          session:
            any: text
      error-page:
        path: "/error"
  update:
    navigate:
      model:
        route: "@data.navigate"
      cmds:
        router: navigate 
    home-page:
      model:
        view: home-view
      cmds:
        ui: layout-view
    error-page:
      model:
        view: error-view
      cmds:
        ui: layout-view
  encoders:
    navigate:
      action: navigate 
      target: "@route"
