kind: module
name: ui_login
spec:
  decoders:
    router:
      show-login-page:
        route: /login
  update:
    show-login-page:
      model:
        view: login-view
      cmds:
        ui: layout-view
  encoders:
    login-view:
      tag: section
      children:
        - tag: div
          attrs:
            class: container px-5 py-24 mx-auto
          children:
            - tag: div
              attrs:
                class: flex flex-col text-center w-full mb-20
              children:
                - tag: h1
                  attrs:
                    class: 
                      format: "sm:text-3xl text-2xl font-medium title-font mb-4 {{ fg-color-active }}"
                      params:
                        encoder: theme-colors
                  children:
                    - Start with your favourite social network
                - tag: p
                  attrs:
                    class: mx-auto leading-relaxed text-base
                  children:
                    - We only collect the information you choose to give us, and we process it with your consent. We only require the minimum amount of personal information that is necessary to fulfill the purpose of your interaction with us. We don't sell it to third parties. 
            - view: social-login-buttons-view
              params:
                displayMode: "@displayMode"
                buttons:
                  - url: /api/google/session
                    title: Start with Google
                    icon: fab fa-google
                  - url: /api/github/session
                    title: Start with Github
                    icon: fab fa-github
                  - url: /api/facebook/session
                    title: Start with Facebook
                    icon: fab fa-facebook-square
                  - url: /api/linkedin/session
                    title: Start with LinkedIn
                    icon: fab fa-linkedin-in
    social-login-buttons-view:
      tag: div
      attrs:
        class: flex flex-wrap -m-4
      children:
        loop: "@buttons"
        with: social-login-button-view
        params:
          displayMode: "@displayMode"
    social-login-button-view:
      tag: div
      attrs:
        class: w-1/2 p-4
      children:
        - tag: div
          attrs:
            class: flex relative
          children:
            - tag: a
              attrs:
                href: "@url"
                class: 
                  format: "px-8 py-10 relative z-10 w-full rounded text-center {{ bg-color-active }} hover:{{ bg-color-active-hover }}"
                  params:
                    encoder: theme-colors
              children:
                - view: icon-view
                  params:
                    icon: "@icon"
                    size: fa-3x
                    color: text-gray-600
