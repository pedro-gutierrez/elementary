kind: module
name: hello
spec:
  init:
    foo: foo
  decoders:
    default:
      get:
        dict:
          method: GET
      post:
        dict:
          method: POST
          headers:
            any: dict
          body:
            any: text
    store:
      not_found:
        dict:
          rows:
            empty: list
  update:
    post:
      model:
        message:
          key: body
      cmds:
        response: hello
        terminate: now
    get:
      model:
        method:
          key: method2
        plap: plop
        items:
          - item1
          - item2
          - 1
          - true
        num: 1
        is_valid: true
      cmds:
        response: hello
        terminate: now
  encoders:
    hello:
      status: 201
      headers:
        content-type: application/json
      body:
        msg: it works yeah
