kind: module
name: password
spec:
  decoders:
    password:
      hashed:
        status: ok
        hash:
          any: text
  update:
    create:
      model: @
      cmds:
        password: hash
    created:
      cmds:
        return: ok
    hashed:
      model:
        hash: @hash
      cmds:
        return: hashed
  encoders:
    hash:
      hash: @password
    hashed:
      user: @user
      hash: @hash
      version: @version
      id: @id
