kind: module
name: organization_owner
spec:
  decoders:
    http:
      check:
        any: object
  update:
    check:
      - when:
          match: @model.organization
          with:
            owner: @model.user.id
        model: {}
      - cmds:
          stop: unauthorized
  encoders:
    unauthorized:
      status: 401
      headers:
        content-type: application/json
      body: {}
