kind: module
name: organization_roles
spec:
  encoders:
    is_owner:
      equal:
        - @model.organization.owner
        - @model.user.id
    is_member:
      match: @model.memberships
      with:
        list:
          with:
            organization: @model.organization.id
            user: @model.user.id
    is_public:
      equal:
        - @model.organization.visibility
        - public
