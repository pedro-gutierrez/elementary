kind: module
name: list_project_tasks
spec:
  decoders:
    http:
      get:
        any: object
    store:
      tasks:
        tasks:
          any: list
  update:
    get:
      cmds:
        store: find_tasks
    tasks:
      model:
        data: @data.tasks
      cmds:
        return: data
  encoders:
    find_tasks:
      store: @store
      find:
        project: @project.id
      from: tasks
      as: tasks
