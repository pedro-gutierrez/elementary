kind: module
name: health
spec:
  decoders:
    http:
      health:
        method: GET
    store:
      pong: ok
  update:
    health:
      cmds:
        store: ping
    pong:
      cmds:
        return: health
  encoders:
    ping:
      store: @store
      ping: {}
    health:
      status: 200
      headers:
        content-type: application/json
      body:
        store: @store
