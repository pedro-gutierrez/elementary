kind: module
name: get_organization
spec:
  decoders:
    http:
      get:
        any: object
  update:
    get:
      - when:
          encoder: is_visible
        model:
          data: @model.organization
        cmds:
          return: data
      - cmds:
          return: not_found
  encoders:
    is_visible:
      one_of:
        - encoder: is_public
        - encoder: is_member

