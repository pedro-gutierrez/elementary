kind: module
name: organization_member
spec:
  decoders:
    http:
      check:
        any: object
  update:
    check:
      - when:
          match: @model.organization.users
          with:
            list:
              with:
                id: @model.user.id
        model: {}
      - cmds:
          stop: unauthorized
  encoders:
    unauthorized:
      status: 401
      headers:
        content-type: application/json
      body: {}
